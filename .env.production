# ==============================================
# LiveLink Backend - Production Environment
# ==============================================
# ⚠️  이 파일은 예시입니다. 실제 운영 환경에서는 실제 값으로 변경하세요!
# ⚠️  민감한 정보는 절대 GitHub에 커밋하지 마세요!

# ==============================================
# 🏗️ APPLICATION SETTINGS
# ==============================================

# 애플리케이션 실행 환경
NODE_ENV=production

# 서버 포트 번호
PORT=3000

# 프론트엔드 도메인 (CORS 설정용)
FRONTEND_URL=https://your-frontend-domain.com

# ==============================================
# 🔐 SECURITY & SESSION
# ==============================================

# 세션 암호화를 위한 비밀키 (32자 이상의 랜덤 문자열 필수!)
# 생성 방법: openssl rand -base64 32
SESSION_SECRET=CHANGE-THIS-TO-SECURE-RANDOM-STRING-MIN-32-CHARS

# 📱 플랫폼별 세션 만료 시간 (밀리초)
# X-Platform 헤더로 구분: APP은 30일, WEB은 1일 유지
# 세션 정책: 플랫폼별 1개씩 유지 (웹 1개 + 앱 1개 = 총 최대 2개)
SESSION_MAX_AGE_APP=2592000000   # 30일 - APP 플랫폼 (X-Platform: app)
SESSION_MAX_AGE_WEB=86400000     # 1일 - WEB 플랫폼 (X-Platform: web)

# 브루트포스 보호 설정
BRUTE_FORCE_MAX_ATTEMPTS=10
BRUTE_FORCE_BLOCK_DURATION=1800

# 쿠키 도메인 (선택사항, 설정 시 해당 도메인으로 제한)
# 예: .yourdomain.com (서브도메인 포함 시 앞에 점)
COOKIE_DOMAIN=

# SameSite 정책 (lax, strict, none, 기본값: lax)
COOKIE_SAMESITE=lax

# ==============================================
# 🗄️ DATABASE (MongoDB)
# ==============================================

# MongoDB 인증 정보 (Docker Compose에서 사용)
# ⚠️  반드시 강력한 비밀번호로 변경하세요!
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=CHANGE-THIS-MONGO-PASSWORD

# MongoDB 연결 URI
# 인증이 필요한 경우: mongodb://username:password@mongo:27017/livelink?authSource=admin
# Atlas: mongodb+srv://username:password@cluster.mongodb.net/livelink
MONGO_URI=mongodb://admin:CHANGE-THIS-MONGO-PASSWORD@mongo:27017/livelink?authSource=admin

# ==============================================
# 📦 REDIS (세션 저장소)
# ==============================================

# Redis 비밀번호 (Docker Compose에서 사용)
# ⚠️  반드시 강력한 비밀번호로 변경하세요!
REDIS_PASSWORD=CHANGE-THIS-REDIS-PASSWORD

# Redis 연결 URL
# 인증이 필요한 경우: redis://:password@redis:6379
# 클라우드: redis://username:password@host:port
REDIS_URL=redis://:CHANGE-THIS-REDIS-PASSWORD@redis:6379

# ==============================================
# 📧 EMAIL SERVICE (이메일 인증용)
# ==============================================

# 이메일 서비스 제공자
EMAIL_SERVICE=gmail

# 이메일 서비스 사용자 계정
EMAIL_USER=noreply@yourdomain.com

# 이메일 서비스 비밀번호 (Gmail 앱 비밀번호)
EMAIL_PASS=your-gmail-app-password-here

# ==============================================
# 👑 ADMIN SETTINGS
# ==============================================

# 관리자 이메일 목록 (쉼표로 구분)
ADMIN_EMAILS=admin@yourdomain.com,manager@yourdomain.com

# ==============================================
# 📊 MONITORING (Grafana & Prometheus)
# ==============================================

# Grafana 관리자 계정
# ⚠️  프로덕션 환경에서는 반드시 변경하세요!
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE-THIS-SECURE-PASSWORD

# ==============================================
# 🐛 LOGGING
# ==============================================

# 로그 레벨 (error, warn, info, verbose, debug)
# 프로덕션 권장: info
LOG_LEVEL=info

# ==============================================
# 🔑 OAuth (소셜 로그인)
# ==============================================

# Google OAuth 2.0
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=1234567890-abcdefghijklmnop.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret-here

# Apple OAuth 2.0 (웹 로그인용)
# https://developer.apple.com/account/resources/identifiers
APPLE_CLIENT_ID=com.yourdomain.app.service
APPLE_TEAM_ID=ABC1234XYZ
APPLE_KEY_ID=DEF5678UVW
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYourApplePrivateKeyHere\n-----END PRIVATE KEY-----"

# Apple App Bundle ID (앱 로그인용)
APPLE_APP_BUNDLE_ID=com.J-Min.stagelives

# ==============================================
# 🚦 API RATE LIMITING
# ==============================================

# 기본 제한 (1분당 100회)
API_LIMIT_DEFAULT_WINDOW_MS=60000
API_LIMIT_DEFAULT_MAX=100

# 엄격한 제한 (1분당 20회)
API_LIMIT_STRICT_WINDOW_MS=60000
API_LIMIT_STRICT_MAX=20

# 완화된 제한 (1분당 200회)
API_LIMIT_RELAXED_WINDOW_MS=60000
API_LIMIT_RELAXED_MAX=200

# ==============================================
# 🕐 SCHEDULER
# ==============================================

# 콘서트 상태 자동 업데이트 체크 간격 (밀리초 단위)
# 기본값: 1800000 (30분)
CONCERT_STATUS_CHECK_INTERVAL=1800000

# ==============================================
# 🔔 FIREBASE (Push Notifications)
# ==============================================

# FCM 알림 활성화 여부
# 개발 환경: false (알림 전송하지 않고 로그만 출력)
# 운영 환경: true (실제 알림 전송)
ENABLE_FCM=true

# Firebase Admin SDK 설정 (FCM 푸시 알림용)
# 옵션 1: 서비스 계정 JSON 파일 경로 사용 (권장)
FIREBASE_SERVICE_ACCOUNT_PATH=/path/to/serviceAccountKey.json

# 옵션 2: 환경변수로 직접 설정
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"