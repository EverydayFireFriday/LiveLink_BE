# ==============================================
# LiveLink Backend Environment Variables
# ==============================================
# 이 파일을 복사하여 .env 파일을 생성하고 실제 값으로 변경하세요
# cp .env.example .env

# ==============================================
# 🏗️ APPLICATION SETTINGS
# ==============================================

# 애플리케이션 실행 환경 (development, production, test)
NODE_ENV=development

# 서버 포트 번호
PORT=3000

# ==============================================
# 🔐 SECURITY & SESSION
# ==============================================

# 세션 암호화를 위한 비밀키 (32자 이상의 랜덤 문자열 필수!)
# 생성 방법: openssl rand -base64 32
SESSION_SECRET=your-super-secret-session-key-minimum-32-characters

# 세션 만료 시간 (밀리초, 기본값: 24시간 = 86400000)
SESSION_MAX_AGE=86400000

# 브루트포스 보호 설정
# 로그인 시도 최대 횟수 (기본값: 10)
BRUTE_FORCE_MAX_ATTEMPTS=10
# 차단 기간 (초, 기본값: 1800초 = 30분)
BRUTE_FORCE_BLOCK_DURATION=1800

# ==============================================
# 🗄️ DATABASE (MongoDB)
# ==============================================

# MongoDB 연결 URI (데이터베이스명 포함)
# 로컬: mongodb://localhost:27017/livelink
# Atlas: mongodb+srv://username:password@cluster.mongodb.net/livelink
MONGO_URI=mongodb://localhost:27017/livelink

# ==============================================
# 📦 REDIS (세션 저장소)
# ==============================================

# Redis 연결 URL
# 로컬: redis://localhost:6379
# 클라우드: redis://username:password@host:port
REDIS_URL=redis://localhost:6379

# ==============================================
# 🌐 CORS & FRONTEND
# ==============================================

# 프론트엔드 도메인 (CORS 설정용)
# 개발: http://localhost:3000
# 운영: https://your-frontend-domain.com
FRONTEND_URL=http://localhost:3000

# ==============================================
# 📧 EMAIL SERVICE (이메일 인증용)
# ==============================================

# 이메일 서비스 사용자 계정
EMAIL_USER=your-email@gmail.com

# 이메일 서비스 비밀번호 (Gmail 앱 비밀번호 권장)
EMAIL_PASS=your-app-specific-password

# ==============================================
# 👑 ADMIN SETTINGS
# ==============================================

# 관리자 이메일 목록 (쉼표로 구분)
# 예: admin1@example.com,admin2@example.com
ADMIN_EMAILS=admin@yourdomain.com,superadmin@yourdomain.com

# ==============================================
# 🐛 DEVELOPMENT & DEBUGGING
# ==============================================

# 로그 레벨 (error, warn, info, verbose, debug)
LOG_LEVEL=info

# 인증 스킵 옵션 (개발/테스트용만 - 운영환경에서는 절대 true 금지!)
SKIP_AUTH=false

# ==============================================
# 📝 EXAMPLE VALUES FOR QUICK START
# ==============================================

# 개발환경 빠른 시작용 설정 예시:
# NODE_ENV=development
# PORT=3000
# SESSION_SECRET=dev-secret-key-for-local-development-32chars
# MONGO_URI=mongodb://localhost:27017/livelink
# REDIS_URL=redis://localhost:6379
# FRONTEND_URL=http://localhost:3000
# EMAIL_USER=your-gmail@gmail.com
# EMAIL_PASS=your-gmail-app-password
# ADMIN_EMAILS=admin@yourdomain.com
# SKIP_AUTH=false

# ==============================================
# 🚀 PRODUCTION DEPLOYMENT NOTES
# ==============================================

# Docker Compose 예시:
# version: '3.8'
# services:
#   app:
#     build: .
#     ports:
#       - "3000:3000"
#     environment:
#       - NODE_ENV=production
#       - PORT=3000
#       - MONGO_URI=mongodb://mongo:27017/livelink
#       - REDIS_URL=redis://redis:6379
#       - SESSION_SECRET=${SESSION_SECRET}
#       - ADMIN_EMAILS=${ADMIN_EMAILS}
#       - EMAIL_USER=${EMAIL_USER}
#       - EMAIL_PASS=${EMAIL_PASS}
#     volumes:
#       - ./logs:/app/logs  # 로그 볼륨 마운트
#     depends_on:
#       - mongo
#       - redis
#
#   mongo:
#     image: mongo:5
#     volumes:
#       - mongo_data:/data/db
#
#   redis:
#     image: redis:7-alpine
#     volumes:
#       - redis_data:/data

# PM2 Ecosystem 예시:
# module.exports = {
#   apps: [{
#     name: 'livelink-api',
#     script: './dist/app.js',
#     instances: 'max',
#     exec_mode: 'cluster',
#     env_production: {
#       NODE_ENV: 'production',
#       PORT: 3000,
#       LOG_LEVEL: 'info'
#     },
#     log_file: './logs/combined.log',
#     out_file: './logs/out.log',
#     error_file: './logs/error.log'
#   }]
# };

# Kubernetes ConfigMap 예시:
# apiVersion: v1
# kind: ConfigMap
# metadata:
#   name: livelink-config
# data:
#   NODE_ENV: "production"
#   PORT: "3000"
#   LOG_LEVEL: "info"
#   FRONTEND_URL: "https://your-frontend-domain.com"
# ---
# # Secret는 별도 관리
# apiVersion: v1
# kind: Secret
# metadata:
#   name: livelink-secrets
# type: Opaque
# stringData:
#   SESSION_SECRET: "your-production-session-secret"
#   MONGO_URI: "mongodb+srv://user:pass@cluster.mongodb.net/livelink"
#   REDIS_URL: "redis://redis-service:6379"
#   EMAIL_USER: "noreply@yourdomain.com"
#   EMAIL_PASS: "your-email-password"
#   ADMIN_EMAILS: "admin@yourdomain.com,manager@yourdomain.com"

# ==============================================
#  Google OAuth (OAUTH)
# ==============================================

# Google OAuth 2.0
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ==============================================
#  Apple OAuth (OAUTH)
# ==============================================

# Apple OAuth 2.0
APPLE_CLIENT_ID=your-apple-client-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY="your-apple-private-key"
